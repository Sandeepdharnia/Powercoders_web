{"ast":null,"code":"var _jsxFileName = \"/Users/sandeepdharnia/ComputerScience/Powercoders_web/recipes/src/components/User/logIn-out.js\";\nimport React, { useState } from \"react\";\n//import Swal from \"sweetalert2\";\nimport \"./login-out.css\";\nconst LoginLogout = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const handleLogin = async e => {\n    e.preventDefault();\n    if (!email || !password) {\n      console.error(\"Email and password are required.\");\n      return;\n    }\n    const token = localStorage.getItem(\"authToken\");\n    console.log(\"Stored Token:\", token);\n    const data = {\n      email,\n      password\n    };\n    console.log('this is line 24', data);\n    try {\n      const response = await fetch(\"http://127.0.0.1:8000/api/v1/login/\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n          // ...(token && { Authorization: `Token ${token}` }),\n        },\n        body: JSON.stringify(data),\n        credentials: \"include\"\n      });\n      if (response.ok) {\n        const result = await response.json();\n        localStorage.setItem(\"authToken\", result.token);\n        window.location.href = \"/\";\n      } else {\n        const errorData = await response.json();\n        console.error(\"Login failed:\", errorData);\n        alert(\"Login failed: \" + errorData.error);\n      }\n    } catch (error) {\n      console.error(\"Error during login:\", error);\n      alert(\"An error occurred. Please try again later.\");\n    }\n  };\n  const handleLogout = async () => {\n    const token = localStorage.getItem(\"authToken\");\n    if (!token) {\n      alert(\"You are not logged in!\");\n      return;\n    }\n    try {\n      const response = await fetch(\"http://127.0.0.1:8000/api/v1/logout/\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Token ${token}`\n        }\n      });\n      if (response.ok) {\n        localStorage.removeItem(\"authToken\");\n        // Swal.fire({\n        //   icon: \"success\",\n        //   title: \"Logged out!\",\n        //   text: \"You are now logged out.\",\n        //   timer: 2000,\n        //   showConfirmButton: false,\n        // });\n        window.location.href = \"/login_logout\";\n        alert(\"You logged out\");\n      } else {\n        const error = await response.json();\n        alert(error.error || \"Failed to log out\");\n      }\n    } catch (err) {\n      console.error(\"Logout error:\", err);\n      alert(\"An error occurred. Please try again.\");\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contact_us\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contact_us_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contact_us_content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contact_us_content1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleLogin,\n    className: \"contact_form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, \"Email:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"email\",\n    name: \"email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    placeholder: \"email ...\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, \"Password:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    placeholder: \"Password ...\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"submit\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, \"Login\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    id: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, \"Register here!\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contact_us_content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, \"Want to leave us\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"sad_emoji\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, \"\\uD83D\\uDE1E\")), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, \"Press logout button\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contact_us_content1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    id: \"submit\",\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 14\n    }\n  }, \"Logout\")))));\n};\nexport default LoginLogout;","map":{"version":3,"names":["React","useState","LoginLogout","email","setEmail","password","setPassword","handleLogin","e","preventDefault","console","error","token","localStorage","getItem","log","data","response","fetch","method","headers","body","JSON","stringify","credentials","ok","result","json","setItem","window","location","href","errorData","alert","handleLogout","Authorization","removeItem","err","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","name","value","onChange","target","placeholder","required","role","onClick"],"sources":["/Users/sandeepdharnia/ComputerScience/Powercoders_web/recipes/src/components/User/logIn-out.js"],"sourcesContent":["import React, { useState } from \"react\";\n//import Swal from \"sweetalert2\";\nimport \"./login-out.css\"\n\nconst LoginLogout = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n\n    if (!email || !password) {\n      console.error(\"Email and password are required.\");\n      return;\n    }\n\n    const token = localStorage.getItem(\"authToken\");\n    console.log(\"Stored Token:\", token);\n\n    const data = {\n      email,\n      password,\n    };\nconsole.log('this is line 24', data);\n\n    try {\n      const response = await fetch(\"http://127.0.0.1:8000/api/v1/login/\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          // ...(token && { Authorization: `Token ${token}` }),\n        },\n        body: JSON.stringify(data),\n        credentials: \"include\",\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        localStorage.setItem(\"authToken\", result.token);\n\n        window.location.href = \"/\";\n      } else {\n        const errorData = await response.json();\n        console.error(\"Login failed:\", errorData);\n        alert(\"Login failed: \" + errorData.error);\n      }\n    } catch (error) {\n      console.error(\"Error during login:\", error);\n      alert(\"An error occurred. Please try again later.\");\n    }\n  };\n\n  const handleLogout = async () => {\n    const token = localStorage.getItem(\"authToken\");\n    if (!token) {\n      alert(\"You are not logged in!\");\n      return;\n    }\n\n    try {\n      const response = await fetch(\"http://127.0.0.1:8000/api/v1/logout/\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Token ${token}`,\n        },\n      });\n\n      if (response.ok) {\n        localStorage.removeItem(\"authToken\");\n        // Swal.fire({\n        //   icon: \"success\",\n        //   title: \"Logged out!\",\n        //   text: \"You are now logged out.\",\n        //   timer: 2000,\n        //   showConfirmButton: false,\n        // });\n        window.location.href = \"/login_logout\";\n        alert(\"You logged out\")\n      } else {\n        const error = await response.json();\n        alert(error.error || \"Failed to log out\");\n      }\n    } catch (err) {\n      console.error(\"Logout error:\", err);\n      alert(\"An error occurred. Please try again.\");\n    }\n  };\n\n  return (\n    <div className=\"contact_us\">\n      <div className=\"contact_us_container\">\n        <div className=\"contact_us_content\">\n          <h2>Login</h2>\n          <div className=\"contact_us_content1\">\n            <form onSubmit={handleLogin} className=\"contact_form\">\n              <label htmlFor=\"email\">Email:</label>\n              <input\n                type=\"text\"\n                id=\"email\"\n                name=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                placeholder=\"email ...\"\n                required\n              />\n\n              <label htmlFor=\"password\">Password:</label>\n              <input\n                type=\"password\"\n                id=\"password\"\n                name=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                placeholder=\"Password ...\"\n                required\n              />\n\n              <button id=\"submit\" type=\"submit\">\n                Login\n              </button>\n            </form>\n                  </div>\n          <div>\n            <button id=\"submit\">\n              <a href=\"/register\">Register here!</a>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"contact_us_content\">\n          <p>\n            Want to leave us{\" \"}\n            <span role=\"img\" aria-label=\"sad_emoji\">\n              😞\n            </span>\n          </p>\n          <h3>Press logout button</h3>\n          <div className=\"contact_us_content1\">\n             <button id=\"submit\" onClick={handleLogout}>\n              Logout\n            </button> \n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginLogout;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}