{"ast":null,"code":"var _jsxFileName = \"/Users/sandeepdharnia/ComputerScience/Powercoders_web/recipes/src/components/User/registration.js\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport \"./logIn-out\";\nconst Register = () => {\n  const [formData, setFormData] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    confirm_password: \"\"\n  });\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n\n  // Handle input changes\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // Handle form submission\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(\"\");\n    setSuccess(\"\");\n    if (formData.password !== formData.confirm_password) {\n      setError(\"Passwords do not match!\");\n      return;\n    }\n    try {\n      const response = await axios.post(\"http://127.0.0.1:8000/api/v1/register/\", formData, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      if (response.data.token) {\n        localStorage.setItem(\"authToken\", response.data.token);\n        setSuccess(\"Registration successful! Redirecting to login...\");\n        setTimeout(() => {\n          window.location.href = \"/user/login\"; // Redirect to login page\n        }, 2000);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || \"Registration failed.\");\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"max-w-md mx-auto mt-10 p-6 bg-white shadow-md rounded-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-2xl font-bold text-center mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, \"Register\"), error && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-red-500 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, error), success && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-green-500 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 19\n    }\n  }, success), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"Username\",\n    value: formData.username,\n    onChange: handleChange,\n    required: true,\n    className: \"w-full p-2 border border-gray-300 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"Email\",\n    value: formData.email,\n    onChange: handleChange,\n    required: true,\n    className: \"w-full p-2 border border-gray-300 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    value: formData.password,\n    onChange: handleChange,\n    required: true,\n    className: \"w-full p-2 border border-gray-300 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"confirm_password\",\n    placeholder: \"Confirm Password\",\n    value: formData.confirm_password,\n    onChange: handleChange,\n    required: true,\n    className: \"w-full p-2 border border-gray-300 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, \"Register\")));\n};\nexport default Register;","map":{"version":3,"names":["React","useState","axios","Register","formData","setFormData","username","email","password","confirm_password","error","setError","success","setSuccess","handleChange","e","target","name","value","handleSubmit","preventDefault","response","post","headers","data","token","localStorage","setItem","setTimeout","window","location","href","_error$response","_error$response$data","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","required"],"sources":["/Users/sandeepdharnia/ComputerScience/Powercoders_web/recipes/src/components/User/registration.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport \"./logIn-out\";\n\nconst Register = () => {\n  const [formData, setFormData] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    confirm_password: \"\",\n  });\n\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n\n  // Handle input changes\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n    setSuccess(\"\");\n\n    if (formData.password !== formData.confirm_password) {\n      setError(\"Passwords do not match!\");\n      return;\n    }\n\n    try {\n      const response = await axios.post(\n        \"http://127.0.0.1:8000/api/v1/register/\",\n        formData,\n        { headers: { \"Content-Type\": \"application/json\" } }\n      );\n\n      if (response.data.token) {\n        localStorage.setItem(\"authToken\", response.data.token);\n        setSuccess(\"Registration successful! Redirecting to login...\");\n        setTimeout(() => {\n          window.location.href = \"/user/login\"; // Redirect to login page\n        }, 2000);\n      }\n    } catch (error) {\n      setError(error.response?.data?.error || \"Registration failed.\");\n    }\n  };\n\n  return (\n    <div className=\"max-w-md mx-auto mt-10 p-6 bg-white shadow-md rounded-lg\">\n      <h2 className=\"text-2xl font-bold text-center mb-4\">Register</h2>\n      {error && <p className=\"text-red-500 text-center\">{error}</p>}\n      {success && <p className=\"text-green-500 text-center\">{success}</p>}\n\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <input\n          type=\"text\"\n          name=\"username\"\n          placeholder=\"Username\"\n          value={formData.username}\n          onChange={handleChange}\n          required\n          className=\"w-full p-2 border border-gray-300 rounded\"\n        />\n\n        <input\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          value={formData.email}\n          onChange={handleChange}\n          required\n          className=\"w-full p-2 border border-gray-300 rounded\"\n        />\n\n        <input\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Password\"\n          value={formData.password}\n          onChange={handleChange}\n          required\n          className=\"w-full p-2 border border-gray-300 rounded\"\n        />\n\n        <input\n          type=\"password\"\n          name=\"confirm_password\"\n          placeholder=\"Confirm Password\"\n          value={formData.confirm_password}\n          onChange={handleChange}\n          required\n          className=\"w-full p-2 border border-gray-300 rounded\"\n        />\n\n        <button\n          type=\"submit\"\n          className=\"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600\">\n          Register\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}